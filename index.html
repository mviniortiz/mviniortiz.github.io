<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markus Vinicius Ortiz - Data Analyst Portfolio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Dark Theme with Red Accents - Otimizado */
            --primary-color: #dc2626;
            --secondary-color: #991b1b;
            --accent-color: #ef4444;
            --text-color: #f8fafc;
            --text-light: #cbd5e1;
            --background-color: #0f172a;
            --card-bg-color: #1e293b;
            --border-color: #334155;
            --shadow-color: rgba(220, 38, 38, 0.2);
            --hover-color: rgba(220, 38, 38, 0.1);
            --gradient-start: #991b1b;
            --gradient-end: #dc2626;
            --transition-fast: 0.2s ease;
            --transition-medium: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Performance otimizado */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Inter', 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.7;
            color: var(--text-color);
            background: var(--background-color);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Animações de entrada */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        /* Classes de animação */
        .project-card {
            opacity: 0;
            transform: translateY(30px);
            transition: all var(--transition-slow);
        }
        
        .project-card.animate-in {
            opacity: 1;
            transform: translateY(0);
        }
        
        .section-title {
            opacity: 0;
            transform: translateY(20px);
            transition: all var(--transition-medium);
        }
        
        .section-title.animate-in {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Header otimizado */
        header {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
            padding: 4rem 0 3rem;
            box-shadow: 0 8px 32px var(--shadow-color);
            position: relative;
            overflow: hidden;
            will-change: transform;
        }
        
        /* Cards super otimizados */
        .project-card {
            background: var(--card-bg-color);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: all var(--transition-medium);
            border: 1px solid rgba(220, 38, 38, 0.2);
            position: relative;
            will-change: transform;
            backface-visibility: hidden;
        }
        
        .project-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            transform: scaleX(0);
            transition: transform var(--transition-medium);
            transform-origin: left;
        }
        
        .project-card:hover::before {
            transform: scaleX(1);
        }
        
        .project-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(220, 38, 38, 0.4);
            border-color: var(--primary-color);
        }
        
        /* Imagens otimizadas */
        .project-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            transition: transform var(--transition-medium);
            opacity: 0;
            filter: blur(5px);
        }
        
        .project-image.loaded {
            opacity: 1;
            filter: blur(0);
        }
        
        .project-card:hover .project-image {
            transform: scale(1.1);
        }
        
        /* Botões super interativos */
        .project-link {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all var(--transition-medium);
            position: relative;
            overflow: hidden;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transform: translateZ(0);
        }
        
        .project-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .project-link:hover::before {
            left: 100%;
        }
        
        .project-link:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 20px rgba(220, 38, 38, 0.4);
        }
        
        .project-link:active {
            transform: translateY(0) scale(0.98);
        }
        
        /* Skills tags animadas */
        .skill-tag {
            background: rgba(220, 38, 38, 0.2);
            color: var(--text-color);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            border: 1px solid rgba(220, 38, 38, 0.3);
            transition: all var(--transition-fast);
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
        }
        
        .skill-tag:hover {
            background: rgba(220, 38, 38, 0.3);
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
        }
        
        /* Grid responsivo otimizado */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        /* Mobile First - Responsividade extrema */
        @media (max-width: 480px) {
            .projects-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .project-card {
                margin: 0 0.5rem;
            }
            
            .hero-title {
                font-size: 2rem;
            }
            
            .project-links {
                flex-direction: column;
                gap: 0.75rem;
            }
            
            .project-link {
                width: 100%;
                justify-content: center;
            }
            
            .container {
                padding: 0 1rem;
            }
        }
        
        @media (max-width: 768px) {
            .projects-grid {
                grid-template-columns: 1fr;
            }
            
            .hero-title {
                font-size: 2.5rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
        }
        
        @media (max-width: 1024px) {
            .projects-grid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            }
        }
        
        /* Otimizações de performance */
        .project-card,
        .project-link,
        .skill-tag {
            transform: translateZ(0);
            backface-visibility: hidden;
        }
        
        /* Preload crítico */
        .project-image[data-src] {
            background: linear-gradient(45deg, #1e293b, #334155);
            background-size: 400% 400%;
            animation: shimmer 1.5s ease-in-out infinite;
        }
        
        @keyframes shimmer {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        
        /* Scroll suave otimizado */
        html {
            scroll-behavior: smooth;
        }
        
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            html {
                scroll-behavior: auto;
            }
        }
    </style>
</head>
<body>
    <header id="header">
        <div class="animated-bg" id="animatedBg">
            <!-- Data elements will be added by JavaScript -->
        </div>
        
        <div class="theme-toggle">
            <span class="toggle-icon"><i class="fas fa-sun"></i></span>
            <label class="toggle-switch">
                <input type="checkbox" id="themeToggle">
                <span class="toggle-slider"></span>
            </label>
            <span class="toggle-icon"><i class="fas fa-moon"></i></span>
        </div>

        <div class="language-selector">
            <button class="lang-btn" id="langBtn">
                <img src="https://flagcdn.com/w20/us.png" class="flag-icon" id="currentFlag">
                <span id="currentLang">English</span>
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="lang-menu">
                <div class="lang-option" data-lang="en">
                    <img src="https://flagcdn.com/w20/us.png" alt="English" class="flag-icon">
                    <span>English</span>
                </div>
                <div class="lang-option" data-lang="es">
                    <img src="https://flagcdn.com/w20/es.png" alt="Español" class="flag-icon">
                    <span>Español</span>
                </div>
                <div class="lang-option" data-lang="pt">
                    <img src="https://flagcdn.com/w20/br.png" alt="Português" class="flag-icon">
                    <span>Português</span>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title" data-en="Markus Vinicius Ortiz" data-es="Markus Vinicius Ortiz" data-pt="Markus Vinicius Ortiz">Markus Vinicius Ortiz</h1>
                <p class="hero-subtitle" data-en="Data Analyst & Business Intelligence Specialist" data-es="Analista de Datos y Especialista en Inteligencia Empresarial" data-pt="Analista de Dados e Especialista em Business Intelligence">Data Analyst & Business Intelligence Specialist</p>
                <div class="contact-links">
                    <a href="assets/documents/resume.pdf" target="_blank" style="background-color: #e74c3c;"><i class="far fa-file-pdf"></i> <span data-en="Resume" data-es="Currículum" data-pt="Currículo">Resume</span></a>
                    <a href="https://www.linkedin.com/in/mviniortiz/" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a>
                    <a href="https://wa.me/5548991696887" target="_blank"><i class="fab fa-whatsapp"></i> WhatsApp</a>
                    <a href="mailto:mviniciusortiz48@gmail.com"><i class="far fa-envelope"></i> Email</a>
                </div>
            </div>
        </div>
    </header>

    <section class="intro">
        <div class="container">
            <p data-en="Welcome to my portfolio! Here you can explore the data analysis and business intelligence projects I've created, demonstrating my skills in visualization, data modeling, and extracting actionable insights."
               data-es="¡Bienvenido a mi portafolio! Aquí puedes explorar los proyectos de análisis de datos e inteligencia empresarial que he creado, demostrando mis habilidades en visualización, modelado de datos y extracción de información accionable."
               data-pt="Bem-vindo ao meu portfólio! Aqui você pode explorar os projetos de análise de dados e business intelligence que criei, demonstrando minhas habilidades em visualização, modelagem de dados e extração de insights acionáveis.">Welcome to my portfolio! Here you can explore the data analysis and business intelligence projects I've created, demonstrating my skills in visualization, data modeling, and extracting actionable insights.</p>
        </div>
    </section>

    <!-- Managerial Projects Section -->
    <section class="projects">
        <div class="container">
            <h2 class="section-title" data-en="Managerial Dashboards" data-es="Paneles Gerenciales" data-pt="Dashboards Gerenciais">Managerial Dashboards</h2>
            <p class="section-description" data-en="Executive-level dashboards for strategic decision making and business performance monitoring" data-es="Paneles a nivel ejecutivo para la toma de decisiones estratégicas y el monitoreo del rendimiento empresarial" data-pt="Dashboards de nível executivo para tomada de decisão estratégica e monitoramento de desempenho empresarial">Executive-level dashboards for strategic decision making and business performance monitoring</p>
            
            <div class="projects-grid">
                <!-- HR Absenteeism Project -->
                <div class="project-card">
                    <img src="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=350&q=90" alt="HR Absenteeism Dashboard" class="project-image">
                    <div class="project-content">
                        <h2 class="project-title" data-en="Human Resources: Absenteeism Analysis" data-es="Recursos Humanos: Análisis de Ausentismo" data-pt="Recursos Humanos: Análise de Absenteísmo">Human Resources: Absenteeism Analysis</h2>
                        <div class="project-description">
                            <p data-en="Comprehensive HR dashboard for monitoring employee absenteeism patterns, identifying trends, and supporting data-driven workforce management decisions." 
                               data-es="Panel completo de RRHH para monitorear patrones de ausentismo de empleados, identificar tendencias y respaldar decisiones de gestión de personal basadas en datos." 
                               data-pt="Dashboard abrangente de RH para monitorar padrões de absenteísmo de funcionários, identificar tendências e apoiar decisões de gestão de força de trabalho baseadas em dados.">Comprehensive HR dashboard for monitoring employee absenteeism patterns, identifying trends, and supporting data-driven workforce management decisions.</p>
                        </div>
                        <div class="project-details">
                            <ul>
                                <li data-en="<strong>Developed</strong> interactive visualizations tracking absenteeism by department, role, and time period"
                                    data-es="<strong>Desarrolló</strong> visualizaciones interactivas que rastrean el ausentismo por departamento, rol y período de tiempo"
                                    data-pt="<strong>Desenvolveu</strong> visualizações interativas rastreando absenteísmo por departamento, função e período de tempo"><strong>Developed</strong> interactive visualizations tracking absenteeism by department, role, and time period</li>
                                <li data-en="<strong>Implemented</strong> KPIs for attendance rates, absenteeism costs, and frequency distributions"
                                    data-es="<strong>Implementó</strong> KPIs para tasas de asistencia, costos de ausentismo y distribuciones de frecuencia"
                                    data-pt="<strong>Implementou</strong> KPIs para taxas de comparecimento, custos de absenteísmo e distribuições de frequência"><strong>Implemented</strong> KPIs for attendance rates, absenteeism costs, and frequency distributions</li>
                                <li data-en="<strong>Created</strong> alert systems to highlight concerning patterns and potential interventions"
                                    data-es="<strong>Creó</strong> sistemas de alerta para resaltar patrones preocupantes e intervenciones potenciales"
                                    data-pt="<strong>Criou</strong> sistemas de alerta para destacar padrões preocupantes e potenciais intervenções"><strong>Created</strong> alert systems to highlight concerning patterns and potential interventions</li>
                            </ul>
                        </div>
                        <div class="skills-list">
                            <span class="skill-tag"><i class="fas fa-chart-bar"></i> PowerBI</span>
                            <span class="skill-tag"><i class="fas fa-table"></i> Excel</span>
                            <span class="skill-tag"><i class="fas fa-users"></i> HR Analytics</span>
                            <span class="skill-tag"><i class="fas fa-database"></i> SQL</span>
                            <span class="skill-tag"><i class="fas fa-file-alt"></i> Report Automation</span>
                        </div>
                        <div class="project-links">
                            <a href="https://app.powerbi.com/view?r=eyJrIjoiZGIwolesterYWYtYTQxZi00OTAzLWEwYzgtYWE3OGJkNDU2YmMzIiwidCI6IjMyNTU3NjRiLTdiNWItNDY0Ni1hN2I0LWJmOTU3MmM2OGFhZSJ9" class="project-link" target="_blank">
                                <i class="fas fa-external-link-alt"></i> <span data-en="View Live Dashboard" data-es="Ver Panel en Vivo" data-pt="Ver Dashboard ao Vivo">View Live Dashboard</span>
                            </a>
                            <a href="HRAbsenteeism/" class="project-link">
                                <i class="fas fa-info-circle"></i> <span data-en="Project Details" data-es="Detalles del Proyecto" data-pt="Detalhes do Projeto">Project Details</span>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Sales Team Performance Project -->
                <div class="project-card">
                    <img src="https://images.unsplash.com/photo-1557804506-669a67965ba0?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=350&q=90" alt="Sales Team Performance Dashboard" class="project-image">
                    <div class="project-content">
                        <h2 class="project-title" data-en="Sales Team Performance Dashboard" data-es="Panel de Rendimiento del Equipo de Ventas" data-pt="Dashboard de Desempenho da Equipe de Vendas">Sales Team Performance Dashboard</h2>
                        <div class="project-description">
                            <p data-en="Detailed sales performance tracking system for monitoring team and individual metrics, quota achievement, and pipeline management across sales territories." 
                               data-es="Sistema detallado de seguimiento del rendimiento de ventas para monitorear métricas de equipo e individuales, logro de cuotas y gestión de pipeline en todos los territorios de ventas." 
                               data-pt="Sistema detalhado de acompanhamento de desempenho de vendas para monitorar métricas de equipe e individuais, cumprimento de metas e gestão de pipeline em todos os territórios de vendas.">Detailed sales performance tracking system for monitoring team and individual metrics, quota achievement, and pipeline management across sales territories.</p>
                        </div>
                        <div class="project-details">
                            <ul>
                                <li data-en="<strong>Designed</strong> intuitive performance scorecards for sales managers and executive leadership"
                                    data-es="<strong>Diseñó</strong> tarjetas de puntuación de rendimiento intuitivas para gerentes de ventas y liderazgo ejecutivo"
                                    data-pt="<strong>Projetou</strong> scorecards de desempenho intuitivos para gerentes de vendas e liderança executiva"><strong>Designed</strong> intuitive performance scorecards for sales managers and executive leadership</li>
                                <li data-en="<strong>Implemented</strong> territory mapping with geospatial analytics to visualize regional performance"
                                    data-es="<strong>Implementó</strong> mapeo de territorio con análisis geoespacial para visualizar el rendimiento regional"
                                    data-pt="<strong>Implementou</strong> mapeamento de território com análise geoespacial para visualizar o desempenho regional"><strong>Implemented</strong> territory mapping with geospatial analytics to visualize regional performance</li>
                                <li data-en="<strong>Developed</strong> comparative analysis tools for benchmarking and identifying coaching opportunities"
                                    data-es="<strong>Desarrolló</strong> herramientas de análisis comparativo para evaluación comparativa e identificación de oportunidades de coaching"
                                    data-pt="<strong>Desenvolveu</strong> ferramentas de análise comparativa para benchmarking e identificação de oportunidades de coaching"><strong>Developed</strong> comparative analysis tools for benchmarking and identifying coaching opportunities</li>
                            </ul>
                        </div>
                        <div class="skills-list">
                            <span class="skill-tag"><i class="fas fa-chart-bar"></i> PowerBI</span>
                            <span class="skill-tag"><i class="fas fa-table"></i> Excel</span>
                            <span class="skill-tag"><i class="fas fa-map-marked-alt"></i> Geospatial Analysis</span>
                            <span class="skill-tag"><i class="fas fa-funnel-dollar"></i> Sales Analytics</span>
                            <span class="skill-tag"><i class="fas fa-chart-line"></i> Forecasting</span>
                        </div>
                        <div class="project-links">
                            <a href="https://app.powerbi.com/view?r=eyJrIjoiZmYwOGMwZTYtMjA0Ny00OTk4LWI5Y2EtZGRjMjIxZGVlMmQ2IiwidCI6IjMyNTU3NjRiLTdiNWItNDY0Ni1hN2I0LWJmOTU3MmM2OGFhZSJ9" class="project-link" target="_blank">
                                <i class="fas fa-external-link-alt"></i> <span data-en="View Live Dashboard" data-es="Ver Panel en Vivo" data-pt="Ver Dashboard ao Vivo">View Live Dashboard</span>
                            </a>
                            <a href="SalesTeamPerformance/" class="project-link">
                                <i class="fas fa-info-circle"></i> <span data-en="Project Details" data-es="Detalles del Proyecto" data-pt="Detalhes do Projeto">Project Details</span>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- BrightBuy Project -->
                <div class="project-card">
                    <img src="https://images.unsplash.com/photo-1560472355-536de3962603?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=350&q=90" alt="BrightBuy Dashboard" class="project-image">
                    <div class="project-content">
                        <h2 class="project-title" data-en="Business Intelligence Project: BrightBuy" data-es="Proyecto de Inteligencia Empresarial: BrightBuy" data-pt="Projeto de Business Intelligence: BrightBuy">Business Intelligence Project: BrightBuy</h2>
                        <div class="project-description">
                            <p data-en="Interactive sales performance dashboard analyzing key business metrics including revenue, profit margins, customer segmentation, and vendor performance." 
                               data-es="Panel interactivo de rendimiento de ventas que analiza métricas comerciales clave, incluidos ingresos, márgenes de beneficio, segmentación de clientes y rendimiento de proveedores." 
                               data-pt="Dashboard interativo de desempenho de vendas que analisa métricas-chave de negócios, incluindo receita, margens de lucro, segmentação de clientes e desempenho de fornecedores.">Interactive sales performance dashboard analyzing key business metrics including revenue, profit margins, customer segmentation, and vendor performance.</p>
                        </div>
                        <div class="project-details">
                            <ul>
                                <li data-en="<strong>Implemented</strong> multiple KPIs for sales by product, average ticket per vendor, and impact of discounts"
                                    data-es="<strong>Implementó</strong> múltiples KPIs para ventas por producto, ticket promedio por proveedor e impacto de descuentos"
                                    data-pt="<strong>Implementou</strong> múltiplos KPIs para vendas por produto, ticket médio por fornecedor e impacto de descontos"><strong>Implemented</strong> multiple KPIs for sales by product, average ticket per vendor, and impact of discounts</li>
                                <li data-en="<strong>Created</strong> dynamic visualizations for monthly, weekly, and daily perspectives"
                                    data-es="<strong>Creó</strong> visualizaciones dinámicas para perspectivas mensuales, semanales y diarias"
                                    data-pt="<strong>Criou</strong> visualizações dinâmicas para perspectivas mensais, semanais e diárias"><strong>Created</strong> dynamic visualizations for monthly, weekly, and daily perspectives</li>
                                <li data-en="<strong>Extracted</strong> critical insights for resource allocation and business improvements"
                                    data-es="<strong>Extrajo</strong> información crítica para la asignación de recursos y mejoras comerciales"
                                    data-pt="<strong>Extraiu</strong> insights críticos para alocação de recursos e melhorias nos negócios"><strong>Extracted</strong> critical insights for resource allocation and business improvements</li>
                            </ul>
                        </div>
                        <div class="skills-list">
                            <span class="skill-tag"><i class="fas fa-chart-bar"></i> PowerBI</span>
                            <span class="skill-tag"><i class="fas fa-table"></i> Excel</span>
                            <span class="skill-tag"><i class="fab fa-python"></i> Python</span>
                            <span class="skill-tag"><i class="fas fa-robot"></i> ChatGPT</span>
                            <span class="skill-tag"><i class="fab fa-figma"></i> Figma</span>
                        </div>
                        <div class="project-links">
                            <a href="BrightBuy/" class="project-link">
                                <i class="fas fa-info-circle"></i> <span data-en="Project Details" data-es="Detalles del Proyecto" data-pt="Detalhes do Projeto">Project Details</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="https://www.linkedin.com/in/mviniortiz/" target="_blank"><i class="fab fa-linkedin fa-lg"></i></a>
                    <a href="https://wa.me/5548991696887" target="_blank"><i class="fab fa-whatsapp fa-lg"></i></a>
                    <a href="mailto:mviniciusortiz48@gmail.com"><i class="far fa-envelope fa-lg"></i></a>
                </div>
                <div class="copyright">
                    <p>&copy; 2025 Markus Vinicius Ortiz. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Add JavaScript for the language switcher and animated background -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ============ Language Selector - Improved ============
            const langBtn = document.getElementById('langBtn');
            const langSelector = document.querySelector('.language-selector');
            const langOptions = document.querySelectorAll('.lang-option');
            const currentLangText = document.getElementById('currentLang');
            
            // Make language menu stay open when clicking the button
            langBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                langSelector.classList.toggle('active');
            });
            
            // Close language menu when clicking outside
            document.addEventListener('click', function(e) {
                if (!langSelector.contains(e.target)) {
                    langSelector.classList.remove('active');
                }
            });
            
            // Check for saved language
            const savedLang = localStorage.getItem('portfolio-lang') || 'en';
            document.documentElement.lang = savedLang;
            
            // Get all elements with language attributes
            const langElements = document.querySelectorAll('[data-en], [data-pt], [data-es]');
            
            // Set initial active language
            langOptions.forEach(option => {
                const lang = option.getAttribute('data-lang');
                if (lang === savedLang) {
                    option.classList.add('active');
                    currentLangText.textContent = option.querySelector('span').textContent;
                    
                    // Set initial flag image
                    const flagImg = option.querySelector('.flag-icon');
                    const currentFlag = document.getElementById('currentFlag');
                    if (flagImg && currentFlag) {
                        currentFlag.src = flagImg.src;
                    }
                }
            });
            
            // Update content based on saved language
            updateLanguageContent(savedLang);
            
            // Language option click handler
            langOptions.forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const lang = this.getAttribute('data-lang');
                    
                    // Update active option
                    langOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update current language text and flag
                    currentLangText.textContent = this.querySelector('span').textContent;
                    
                    // Update the flag image
                    const flagImg = this.querySelector('.flag-icon');
                    const currentFlag = document.getElementById('currentFlag');
                    if (flagImg && currentFlag) {
                        currentFlag.src = flagImg.src;
                    }
                    
                    // Update all content
                    updateLanguageContent(lang);
                    
                    // Update html lang attribute
                    document.documentElement.lang = lang;
                    
                    // Save language preference
                    localStorage.setItem('portfolio-lang', lang);
                    
                    // Close the menu
                    langSelector.classList.remove('active');
                });
            });
            
            // Function to update all language content
            function updateLanguageContent(lang) {
                langElements.forEach(el => {
                    if (el.hasAttribute(`data-${lang}`)) {
                        if (el.tagName === 'LI') {
                            el.innerHTML = el.getAttribute(`data-${lang}`);
                        } else {
                            el.textContent = el.getAttribute(`data-${lang}`);
                        }
                    }
                });
            }
            
            // ============ Theme Toggle - Dark/Light ============
            const themeToggle = document.getElementById('themeToggle');
            
            // Check for saved theme
            const savedTheme = localStorage.getItem('portfolio-theme');
            if (savedTheme === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
                themeToggle.checked = true;
            } else {
                document.documentElement.setAttribute('data-theme', 'light');
                themeToggle.checked = false;
            }
            
            // Theme toggle handler
            themeToggle.addEventListener('change', function() {
                if (this.checked) {
                    document.documentElement.setAttribute('data-theme', 'dark');
                    localStorage.setItem('portfolio-theme', 'dark');
                } else {
                    document.documentElement.setAttribute('data-theme', 'light');
                    localStorage.setItem('portfolio-theme', 'light');
                }
            });
            
            // ============ Enhanced Animated Background ============
            // Create animated data elements in the background
            const animatedBg = document.getElementById('animatedBg');
            const dataWords = [
                'SELECT * FROM data', 'AVG(sales)', 'GROUP BY category', 
                'SUM(revenue)', 'COUNT(*)', 'JOIN metrics ON id', 
                'Power BI', 'Python', 'SQL', 'Excel', 'DAX', 'KPI',
                'Dashboard', 'Insights', 'Analytics', 'Metrics', 'ETL',
                'CASE WHEN', 'HAVING count > 100', 'Data Modeling',
                'Visualization', 'Business Intelligence'
            ];
            
            const dataIcons = [
                'chart-bar', 'chart-line', 'chart-pie', 'database', 
                'table', 'file-excel', 'code', 'brain', 'search', 
                'analytics', 'filter', 'funnel-dollar', 'server',
                'desktop', 'laptop-code', 'project-diagram', 'sitemap'
            ];
            
            // Create 30 data particles with random positions, delays and types
            for (let i = 0; i < 30; i++) {
                createDataParticle();
            }
            
            function createDataParticle() {
                const particle = document.createElement('div');
                
                // Determine particle type
                const particleType = Math.random();
                
                if (particleType < 0.3) {
                    // Icon particle
                    particle.className = 'data-particle icon';
                    const randomIcon = dataIcons[Math.floor(Math.random() * dataIcons.length)];
                    particle.innerHTML = `<i class="fas fa-${randomIcon}"></i>`;
                } else if (particleType < 0.45) {
                    // Bigger text particle
                    particle.className = 'data-particle big';
                    particle.textContent = dataWords[Math.floor(Math.random() * dataWords.length)];
                } else {
                    // Regular text particle
                    particle.className = 'data-particle';
                    particle.textContent = dataWords[Math.floor(Math.random() * dataWords.length)];
                }
                
                // Random position
                const xPos = Math.random() * 100;
                const yPos = Math.random() * 100;
                particle.style.left = `${xPos}%`;
                
                // Random animation type
                const animationType = Math.random();
                const delay = Math.random() * 20;
                
                if (animationType < 0.6) {
                    // Diagonal movement
                    particle.style.animationName = 'floatData';
                    particle.style.animationDuration = `${15 + Math.random() * 10}s`;
                } else if (animationType < 0.8) {
                    // Vertical movement
                    particle.style.animationName = 'floatVertical';
                    particle.style.animationDuration = `${10 + Math.random() * 8}s`;
                    particle.style.left = `${xPos}%`;
                } else {
                    // Horizontal movement
                    particle.style.animationName = 'floatHorizontal';
                    particle.style.animationDuration = `${12 + Math.random() * 8}s`;
                    particle.style.top = `${yPos}%`;
                }
                
                particle.style.animationDelay = `${delay}s`;
                
                // Add to the background
                animatedBg.appendChild(particle);
                
                // Remove and recreate particle after animation completes
                const duration = parseFloat(particle.style.animationDuration) * 1000;
                setTimeout(() => {
                    particle.remove();
                    createDataParticle();
                }, duration + delay * 1000);
            }

            // Add RGB version of primary color for background opacity
            const primaryColor = getComputedStyle(document.documentElement).getPropertyValue('--primary-color').trim();
            const rgbValue = hexToRgb(primaryColor);
            if (rgbValue) {
                document.documentElement.style.setProperty('--primary-color-rgb', rgbValue);
            }
            
            // Function to convert hex to RGB
            function hexToRgb(hex) {
                // Remove # if present
                hex = hex.replace('#', '');
                
                // Convert 3-digit hex to 6-digits
                if (hex.length === 3) {
                    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];
                }
                
                // Convert hex to RGB
                const r = parseInt(hex.substring(0, 2), 16);
                const g = parseInt(hex.substring(2, 4), 16);
                const b = parseInt(hex.substring(4, 6), 16);
                
                if (isNaN(r) || isNaN(g) || isNaN(b)) {
                    return null;
                }
                
                return `${r}, ${g}, ${b}`;
            }
        });
    </script>
</body>
</html>
